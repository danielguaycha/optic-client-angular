<form class="row g-2" #enterpriseForm='ngForm' (ngSubmit)="onSubmit()" ngNativeValidate>
    <label class="label-title"><span>Perfil de empresa</span></label>

    <div class="col-12 col-md-4">
        <div class="text-center image-upload image-opa">
            <label for="file-input">
            <img class="rounded-circle circle-img img-circle" alt="100x100"
                 [src]="this.imageProfile" (error)="changeImage($event)" data-holder-rendered="true">
        </label>
            <input id="file-input" type="file" accept="image/png, image/jpeg" (change)="fileEvent($event)" />
        </div>

        <label class="label-title"><span>Opciones tributarias</span></label>

        <div class="form-check mt-2">
            <input class="form-check-input" type="checkbox" id="obligado" [checked]="accounting" (change)="onCheckAccounting($event.target.checked)">
            <label class="form-check-label">Obligado a llevar contablilidad</label>
        </div>

        <div class="form-check mt-2">
            <input class="form-check-input" type="checkbox" id="micro_enterprise" [checked]="micro_enterprise" (change)="onCheckMicro($event.target.checked)">
            <label class="form-check-label">Regimen Micro-Empresas</label>
        </div>
        <div class="mt-2">

            <label for="authorization" class="form-label">Autor. SRI</label>
            <input type="text" id="authorization" [(ngModel)]="formData.authorization" name="authorization" class="form-control">
        </div>
        <div class="mt-2">

            <label for="special_contrib" class="form-label">Contrib. Especial</label>
            <input type="text" id="special_contrib" [(ngModel)]="formData.special_contrib" name="special_contrib" class="form-control">
        </div>
        <div class="mt-2">

            <label for="retention_agent" class="form-label">Resol. Agnt. Retencion</label>
            <input type="text" id="retention_agent" [(ngModel)]="formData.retention_agent" name="retention_agent" class="form-control">
        </div>

    </div>

    <div class="divider-vertical"></div>

    <!-- Datos -->
    <div class="col-12 col-md-7">
        <label for="ruc" class="form-label">RUC: </label>
        <input type="text" id="ruc" [(ngModel)]="formData.ruc" name="ruc" class="form-control" required>
        <div class="mt-2">
            <label for="business_name" class="form-label">Nombre Comercial: </label>
            <input type="text" id="business_name" [(ngModel)]="formData.business_name" name="nombre_comercial" class="form-control" required>
        </div>
        <div class="mt-2">
            <label for="name" class="form-label">Razón Social: </label>
            <input type="text" id="name" [(ngModel)]="formData.name" name="name" class="form-control" required>
        </div>
        <div class="mt-2">
            <label for="address" class="form-label">Dirección: </label>
            <input type="text" id="address" [(ngModel)]="formData.address" name="address" class="form-control" required>
        </div>
        <div class="mt-2">
            <label for="email" class="form-label">Correo: </label>
            <input type="email" id="email" [(ngModel)]="formData.email" name="email" class="form-control" required>
        </div>

        <label class="label-title"><span>Datos de establecimiento</span></label>

        <div class="mt-2">
            <label for="addressEst" class="form-label">Dirección: </label>
            <input type="addressEst" id="addressEst" [(ngModel)]="formData.addressEst" name="addressEst" class="form-control" required>
        </div>
        <div class="mt-2">
            <div class="row g-2">
                <div class="div col-6 col-md-4">
                    <label for="codEst" class="form-label">COD: </label>
                    <input type="text" id="codEst" (keypress)="numberOnly($event)" [(ngModel)]="formData.codEst" name="codEst" maxlength="3" minlength="1" class="form-control" (input)="onInputCode($event.target.value)" (change)="onInputCode($event.target.value)" required>
                </div>
                <div class="div col-6 col-md-4">
                    <label for="ptoEmi" class="form-label">Pto. Emisión: </label>
                    <input type="text" id="ptoEmi" (keypress)="numberOnly($event)" [(ngModel)]="formData.ptoEmi" name="ptoEmi" maxlength="3" minlength="1" class="form-control" (input)="onInputPto($event.target.value)" (change)="onInputPto($event.target.value)" required>
                </div>
                <div class="div col-6 col-md-4">
                    <label class="form-label">Nº Serie:</label>
                    <input class="form-control" [value]="cod_serie" disabled>
                </div>
            </div>
        </div>

    </div>

    <div class="col-12 col-md-4 text-end mt-4">
        <button class="btn btn-outline-danger me-2" type="button" data-bs-dismiss="modal">Cancelar</button>
        <bs-button [loader]="loader" variant="primary"><i class="fa fa-save me-1"></i>Actualizar</bs-button>
    </div>
</form>
